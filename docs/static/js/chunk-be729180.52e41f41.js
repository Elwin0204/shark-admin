/*!
 *  build: shark-admin 
 *  https://elwin0204.github.io/shark-admin 
 *  https://github.com/elwin0204/shark-admin 
 *  time: 2024-3-3 23:30:14
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be729180"],{"04fe":function(e,t,a){},"53da":function(e,t,a){"use strict";a("04fe")},"62ed":function(e,t,a){"use strict";a.r(t),a.d(t,"getOperateLogs",(function(){return r})),a.d(t,"getLoginLogs",(function(){return n}));var o=a("b775");function r(e){return Object(o["default"])({url:"/logs/operateLogs",method:"get",params:e})}function n(e){return Object(o["default"])({baseURL:"http://10.67.216.189:9098",url:"/logs/loginLogs",method:"get",params:e})}},"7a60":function(e,t,a){},cb68:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"operateLog-container"},[a("el-card",[a("el-form",{attrs:{model:e.queryForm,"label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6,xl:4}},[a("el-form-item",{attrs:{label:"用户账号"}},[a("el-input",{model:{value:e.queryForm.account,callback:function(t){e.$set(e.queryForm,"account",t)},expression:"queryForm.account"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6,xl:4}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.queryForm.username,callback:function(t){e.$set(e.queryForm,"username",t)},expression:"queryForm.username"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6,xl:4}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6,xl:4}})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.operateLogs,"element-loading-text":e.elementLoadingText,"row-class-name":e.tableRowClassName,"header-cell-style":{background:"#4372c3",color:"#252b3a"},border:""}},[a("el-table-column",{attrs:{label:"账号",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.account)+" ")]}}])}),a("el-table-column",{attrs:{label:"用户名"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.name)+" ")]}}])}),a("el-table-column",{attrs:{label:"操作模块",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.optionModule)+" ")]}}])}),a("el-table-column",{attrs:{label:"操作功能",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.optionFunction)+" ")]}}])}),a("el-table-column",{attrs:{label:"请求地址",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.requestPath)+" ")]}}])}),a("el-table-column",{attrs:{label:"请求方式",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.requestMethod)+" ")]}}])}),a("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.status)+" ")]}}])}),a("el-table-column",{attrs:{label:"耗时",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.time)+" ")]}}])}),a("el-table-column",{attrs:{label:"登录时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.joinTime)+" ")]}}])}),a("el-table-column",{attrs:{width:"120",label:"操作",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.showDetail(o)}}},[a("span",{staticClass:"btn-detail"},[a("v-icon",{attrs:{name:"info-circle"}}),a("span",{staticStyle:{"margin-left":"5px"}},[e._v("详情")])],1)])]}}])})],1),a("el-pagination",{attrs:{background:"","current-page":e.queryForm.pageNo,"page-size":e.queryForm.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],n=a("62ed"),l={name:"OperateLog",data(){return{listLoading:!0,elementLoadingText:"正在加载...",layout:"total, sizes, prev, pager, next, jumper",operateLogs:null,total:0,queryForm:{pageNo:1,pageSize:10,account:"",username:""}}},created(){this.fetchData()},methods:{async fetchData(){this.listLoading=!0;const{data:e,totalCount:t}=await Object(n["getOperateLogs"])(this.queryForm);this.operateLogs=e,this.total=t,setTimeout(()=>{this.listLoading=!1},300)},handleSizeChange(e){this.queryForm.pageSize=e,this.fetchData()},handleCurrentChange(e){this.queryForm.pageNo=e,this.fetchData()},tableRowClassName({rowIndex:e}){return e%2===0?"warning-row":"success-row"},handleSearch(){this.fetchData()},reset(){this.queryForm.account="",this.queryForm.username=""},showDetail(e){console.log("row",e)}}},s=l,u=(a("dd52"),a("53da"),a("2877")),i=Object(u["a"])(s,o,r,!1,null,"1410ec95",null);t["default"]=i.exports},dd52:function(e,t,a){"use strict";a("7a60")}}]);