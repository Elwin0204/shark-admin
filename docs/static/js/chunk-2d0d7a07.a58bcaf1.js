/*!
 *  build: shark-admin 
 *  https://elwin0204.github.io/shark-admin 
 *  https://github.com/elwin0204/shark-admin 
 *  time: 2024-3-3 23:30:14
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7a07"],{"782b":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"webSocket-container"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[s("el-alert",{attrs:{type:"success",closable:!1}},[e._v(" webSocket连接"+e._s(e.status)+"！ ")]),s("br"),s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"地址"}},[s("el-input",{attrs:{disabled:""},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1),s("el-form-item",{attrs:{label:"消息",prop:"message"}},[s("el-input",{model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("发送消息")])],1),s("el-form-item",{attrs:{label:"返回信息汇总"}},[e._v(" "+e._s(e.data)+" ")])],1)],1)],1)],1)},r=[],a=(s("14d9"),{name:"WebSocket",components:{},data(){return{url:"ws://123.207.136.134:9010/ajaxchattest",webSocket:null,data:[],status:"",form:{message:null},rules:{message:[{required:!0,message:"请输入消息",trigger:"blur"}]}}},created(){this.init()},destroyed(){this.webSocket.close()},methods:{submit(){this.$refs["form"].validate(e=>{if(!e)return!1;this.send(this.form.message)})},init(){const e=this.url;this.webSocket=new WebSocket(e),this.webSocket.onmessage=this.onmessage,this.webSocket.onopen=this.onopen,this.webSocket.onerror=this.onerror,this.webSocket.onclose=this.onclose},onopen(){this.status="成功"},onerror(){this.status="失败",this.initWebSocket()},onmessage({data:e}){this.data.push(e.substring(0,e.length-66))},send(e){this.webSocket.send(e)},onclose(e){this.status="断开"}}}),l=a,n=s("2877"),i=Object(n["a"])(l,o,r,!1,null,null,null);t["default"]=i.exports}}]);