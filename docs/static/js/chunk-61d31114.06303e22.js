/*!
 *  build: shark-admin 
 *  https://elwin0204.github.io/shark-admin 
 *  https://github.com/elwin0204/shark-admin 
 *  time: 2024-3-3 23:30:14
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61d31114"],{"9ed6":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login-container"},[t("div",{staticClass:"login-particles"},[t("vue-particles",{attrs:{color:"#dedede","particle-opacity":.7,"particles-number":80,"shape-type":"circle","particle-size":4,"lines-color":"#dedede","lines-width":1,"line-linked":!0,"line-opacity":.4,"lines-distance":150,"move-speed":3,"hover-effect":!0,"hover-mode":"grab","click-effect":!0,"click-mode":"push"}})],1),t("el-alert",{staticStyle:{position:"fixed"},attrs:{title:"What's up, guys. Welcome to shark-admin",type:"success",closable:!1}}),t("div",{staticClass:"login-dialog"},[t("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,rules:e.rules,"label-position":"left"}},[t("div",{staticClass:"title-tips"},[e._v("欢迎来到"+e._s(e.title)+"！")]),t("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{prop:"username"}},[t("span",{staticClass:"svg-container svg-container-admin"},[t("v-icon",{attrs:{name:"user"}})],1),t("el-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{placeholder:"用户名: admin/editor",tabindex:"1",type:"text"},model:{value:e.form.username,callback:function(s){e.$set(e.form,"username","string"===typeof s?s.trim():s)},expression:"form.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("v-icon",{attrs:{name:"lock"}})],1),t("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,tabindex:"2",placeholder:"密码: 123456"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password","string"===typeof s?s.trim():s)},expression:"form.password"}}),"password"===e.passwordType?t("span",{staticClass:"show-password",on:{click:e.handlePassword}},[t("v-icon",{attrs:{name:"eye-slash"}})],1):t("span",{staticClass:"show-password",on:{click:e.handlePassword}},[t("v-icon",{attrs:{name:"eye"}})],1)],1),t("el-button",{staticClass:"login-btn",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleLogin}},[e._v(" 登录 ")])],1)],1),t("div",{staticClass:"login-waves"},[t("svg",{staticClass:"waves",attrs:{viewBox:"0 24 150 28",preserveAspectRatio:"none","shape-rendering":"auto"}},[t("defs",[t("path",{attrs:{id:"JS_BaseWave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 55-18 88-18 58 18 88 18 v44h-352z"}})]),t("g",{staticClass:"parallax"},[t("use",{attrs:{"xlink:href":"#JS_BaseWave",x:"48",y:"0",fill:"rgba(255,255,255,0.7)"}}),t("use",{attrs:{"xlink:href":"#JS_BaseWave",x:"48",y:"3",fill:"rgba(255,255,255,0.5)"}}),t("use",{attrs:{"xlink:href":"#JS_BaseWave",x:"48",y:"5",fill:"rgba(255,255,255,0.3)"}}),t("use",{attrs:{"xlink:href":"#JS_BaseWave",x:"48",y:"7",fill:"#fff"}})])])])],1)},r=[],i=(t("d9e2"),t("14d9"),t("61f7")),o=t("f121"),n={name:"Login",directives:{focus:{inserted(e){e.querySelector("input").focus()}}},data(){const e=(e,s,t)=>{""==s?t(new Error("用户名不能为空")):t()},s=(e,s,t)=>{Object(i["isPassword"])(s)?t():t(new Error("密码不能少于6位"))};return{nodeEnv:"production",title:this.$baseTitle,form:{username:"",password:""},rules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:s}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler(e){this.redirect=e.query&&e.query.redirect||"/"},immediate:!0}},created(){document.body.style.overflow="hidden"},beforeDestroy(){document.body.style.overflow="auto"},mounted(){o["loginAuto"]&&this.autoLogin()},methods:{autoLogin(){this.form.username="admin",this.form.password="123456",setTimeout(()=>{this.handleLogin()},3e3)},handlePassword(){"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick(()=>{this.$refs.password.focus()})},handleLogin(){this.$refs.form.validate(e=>{if(!e)return!1;this.loading=!0,this.$store.dispatch("user/login",this.form).then(()=>{const e="/404"===this.redirect||"/401"===this.redirect?"/":this.redirect;this.$router.push(e).catch(()=>{}),this.loading=!1}).catch(()=>{this.loading=!1})})}}},l=n,d=(t("bcce"),t("2877")),c=Object(d["a"])(l,a,r,!1,null,"40ab93dc",null);s["default"]=c.exports},ba4a:function(e,s,t){},bcce:function(e,s,t){"use strict";t("ba4a")}}]);