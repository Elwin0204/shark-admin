/*!
 *  build: shark-admin 
 *  https://elwin0204.github.io/shark-admin 
 *  https://github.com/elwin0204/shark-admin 
 *  time: 2024-3-3 23:30:14
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74384e47"],{"01ef":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-tree",{attrs:{data:e.data,props:e.defaultProps},on:{"node-click":e.handleNodeClick}})},r=[],o={name:"OrgTree",props:{data:{type:Array,default:()=>[]}},data(){return{defaultProps:{children:"children",label:"label"}}},created(){},methods:{handleNodeClick(){}}},n=o,s=l("2877"),i=Object(s["a"])(n,a,r,!1,null,null,null);t["default"]=i.exports},"4cbc":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"org-container"},[l("div",{staticClass:"org-side",style:{width:e.isFolded?"0px":e.sideWidth+"px"}},[l("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFolded,expression:"!isFolded"}]},[l("div",[l("el-button-group",[l("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:e.handleOrgAdd}},[e._v(" 新增 ")]),l("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleOrgEdit}},[e._v(" 修改 ")]),l("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.handleOrgDelete}},[e._v(" 删除 ")])],1)],1),l("org-tree",{ref:"REF_OrgTree",attrs:{data:e.orgData}})],1),l("div",{staticClass:"btn-fold",on:{click:e.toggleSide}},[l("i",{class:e.foldIcon})])]),l("div",{staticClass:"org-main"},[l("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-tab-pane",{attrs:{name:"orgRole"}},[l("span",{attrs:{slot:"label"},slot:"label"},[l("i",{staticClass:"el-icon-user-solid"}),e._v(" 组织角色 ")]),l("org-role")],1),l("el-tab-pane",{attrs:{name:"orgUser"}},[l("span",{attrs:{slot:"label"},slot:"label"},[l("i",{staticClass:"el-icon-user"}),e._v(" 组织用户 ")]),l("org-user")],1)],1)],1)])},r=[],o=l("01ef"),n=l("effc"),s=l("8c76"),i=l("4dda"),d={name:"OrgManagement",components:{OrgTree:o["default"],OrgUser:n["default"],OrgRole:s["default"]},data(){return{activeName:"orgRole",queryForm:{pageNo:1,pageSize:10,username:""},userForm:{total:0},isFolded:!1,sideWidth:300,orgData:[]}},computed:{foldIcon(){return this.isFolded?"el-icon-d-arrow-right":"el-icon-d-arrow-left"}},created(){this.fetchOrgData()},methods:{toggleSide(){this.isFolded=!this.isFolded},setSelectRows(e){this.selectRows=e},handleOrgAdd(){},handleOrgEdit(){},handleOrgDelete(){},handleUserDelete(){},bindRole(){},handleTabClick(e,t){},async fetchOrgData(){const{data:e}=await Object(i["getOrgList"])();this.orgData=e}}},c=d,u=(l("982b"),l("2877")),f=Object(u["a"])(c,a,r,!1,null,"4118f1d0",null);t["default"]=f.exports},"4dda":function(e,t,l){"use strict";l.r(t),l.d(t,"getOrgList",(function(){return r})),l.d(t,"getOrgChildrenList",(function(){return o})),l.d(t,"doEdit",(function(){return n})),l.d(t,"doDelete",(function(){return s}));var a=l("b775");function r(e){return Object(a["default"])({url:"/orgManagement/getOrgList",method:"post",data:e})}function o(e){return Object(a["default"])({url:"/orgManagement/getChildrenList",method:"post",data:e})}function n(e){return Object(a["default"])({url:"/orgManagement/doEdit",method:"post",data:e})}function s(e){return Object(a["default"])({url:"/orgManagement/doDelete",method:"post",data:e})}},5407:function(e,t,l){},8305:function(e,t,l){},"8c76":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-row",{attrs:{type:"flex",gutter:20}},[l("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}}),l("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[l("div",{staticClass:"btn-box"},[l("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.handleAdd}},[e._v(" 分配角色 ")]),l("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:e.handleBatchDelete}},[e._v(" 批量删除 ")])],1)])],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.roleLoading,expression:"roleLoading"}],attrs:{data:e.roleTable,border:"","max-height":e.maxHeight,"element-loading-text":e.elementLoadingText,"header-cell-style":{textAlign:"center"}}},[l("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"role",label:"角色名称"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"roleCode",label:"角色编码"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"remark",label:"备注"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"datetime",label:"创建时间"}}),l("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[l("el-button",{attrs:{plain:"",type:"danger",size:"mini"},on:{click:function(t){return e.handleDelete(a)}}},[e._v(" 删除 ")])]}}])})],1)],1)},r=[],o=l("e157"),n=l("ed08"),s={name:"OrgRole",data(){return{roleTable:[],roleLoading:!1,selectRows:"",elementLoadingText:"正在加载...",layout:"total, sizes, prev, pager, next, jumper"}},computed:{maxHeight(){return Object(n["getClientHeight"])()-220}},created(){this.fetchRoleData()},methods:{async fetchRoleData(){this.roleLoading=!0;const{data:e}=await Object(o["getList"])();this.roleTable=e,setTimeout(()=>{this.roleLoading=!1},300)},handleAdd(){},handleBatchDelete(){},handleDelete(){}}},i=s,d=(l("d8dd"),l("2877")),c=Object(d["a"])(i,a,r,!1,null,"28cbe3a2",null);t["default"]=c.exports},"953d":function(e,t,l){"use strict";l.r(t),l.d(t,"getList",(function(){return r})),l.d(t,"doEdit",(function(){return o})),l.d(t,"doDelete",(function(){return n}));var a=l("b775");function r(e){return Object(a["default"])({url:"/userManagement/getList",method:"post",data:e})}function o(e){return Object(a["default"])({url:"/userManagement/doEdit",method:"post",data:e})}function n(e){return Object(a["default"])({url:"/userManagement/doDelete",method:"post",data:e})}},"982b":function(e,t,l){"use strict";l("8305")},d8dd:function(e,t,l){"use strict";l("5407")},e157:function(e,t,l){"use strict";l.r(t),l.d(t,"getList",(function(){return r})),l.d(t,"doEdit",(function(){return o})),l.d(t,"doDelete",(function(){return n}));var a=l("b775");function r(e){return Object(a["default"])({url:"/roleManagement/getList",method:"post",data:e})}function o(e){return Object(a["default"])({url:"/roleManagement/doEdit",method:"post",data:e})}function n(e){return Object(a["default"])({url:"/roleManagement/doDelete",method:"post",data:e})}},effc:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-row",{attrs:{type:"flex",gutter:20}},[l("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[l("el-form",{attrs:{inline:!0,model:e.queryForm},nativeOn:{submit:function(e){e.preventDefault()}}},[l("el-form-item",[l("el-input",{attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.queryForm.username,callback:function(t){e.$set(e.queryForm,"username","string"===typeof t?t.trim():t)},expression:"queryForm.username"}})],1),l("el-form-item",[l("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryData}},[e._v(" 查询 ")])],1)],1)],1),l("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[l("div",{staticClass:"btns-box"},[l("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.handleEdit}},[e._v(" 新增 ")]),l("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:e.handleDelete}},[e._v(" 批量删除 ")])],1)])],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.userLoading,expression:"userLoading"}],attrs:{data:e.userTable,border:"","max-height":e.maxHeight,"element-loading-text":e.elementLoadingText,"header-cell-style":{textAlign:"center"}}},[l("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"id",label:"编号",width:"120",fixed:"left"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"username",label:"姓名"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"email",label:"邮箱"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"gender",label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[e._v(" "+e._s(e._f("genderFilter")(l.gender))+" ")]}}])}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"age",label:"年龄",align:"center"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"signature",label:"签名"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"datatime",label:"修改时间"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"权限"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[e._v(" "+e._s(e._f("permissionsFilter")(l.permissions))+" ")]}}])}),l("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[l("el-tag",{attrs:{effect:"dark",type:e._f("statusTagFilter")(a.status)}},[e._v(" "+e._s(e._f("statusFilter")(a.status))+" ")])]}}])}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作",width:"200",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[l("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(t){return e.handleUserDelete(a)}}},[e._v(" 删除 ")])]}}])})],1)],1)},r=[],o=l("953d"),n=l("ed08"),s={name:"OrgUser",filters:{statusTagFilter(e){return"Y"===e?"success":"N"===e?"info":"danger"},statusFilter(e){return"Y"===e?"启用":"N"===e?"禁用":"无效数据"},permissionsFilter(e){},genderFilter(e){return"MAN"===e?"男":"WOMAN"===e?"女":e}},data(){return{userTable:[],roleLoading:!1,userLoading:!1,selectRows:"",elementLoadingText:"正在加载...",layout:"total, sizes, prev, pager, next, jumper",total:0,queryForm:{username:""}}},computed:{maxHeight(){return Object(n["getClientHeight"])()-220}},created(){this.fetchUserData()},methods:{async fetchUserData(){const e=await this.$dbInstance.getItem("userList")||[],{data:t}=await Object(o["getList"])(this.queryForm),l=this.$baseLodash.unionWith(t,e,this.$baseLodash.isEqual),{title:a="",pageNo:r=1,pageSize:n=20}=this.queryForm,s=l.filter(e=>!(a&&e.title.indexOf(a)<0)),i=s.filter((e,t)=>t<n*r&&t>=n*(r-1));this.userTable=i,this.total=s.length},queryData(){},handleEdit(){},handleDelete(){}}},i=s,d=l("2877"),c=Object(d["a"])(i,a,r,!1,null,"a1d86e80",null);t["default"]=c.exports}}]);