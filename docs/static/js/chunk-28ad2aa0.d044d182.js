/*!
 *  build: shark-admin 
 *  https://elwin0204.github.io/shark-admin 
 *  https://github.com/elwin0204/shark-admin 
 *  time: 2024-3-3 23:30:14
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28ad2aa0"],{"3e74":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"operateLog-container"},[a("el-card",[a("el-form",{attrs:{model:e.queryForm,"label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6,xl:4}},[a("el-form-item",{attrs:{label:"用户账号"}},[a("el-input",{model:{value:e.queryForm.account,callback:function(t){e.$set(e.queryForm,"account",t)},expression:"queryForm.account"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6,xl:4}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.queryForm.username,callback:function(t){e.$set(e.queryForm,"username",t)},expression:"queryForm.username"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6,xl:4}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6,xl:4}})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.operateLogs,"element-loading-text":e.elementLoadingText,"row-class-name":e.tableRowClassName,"header-cell-style":{background:"#4372c3",color:"#252b3a"},border:""}},[a("el-table-column",{attrs:{label:"账号",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.account)+" ")]}}])}),a("el-table-column",{attrs:{label:"用户名"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.name)+" ")]}}])}),a("el-table-column",{attrs:{label:"IP地址",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.ipAddrees)+" ")]}}])}),a("el-table-column",{attrs:{label:"设备型号",width:"360"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.unitType)+" ")]}}])}),a("el-table-column",{attrs:{label:"操作系统",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.operatingSystem)+" ")]}}])}),a("el-table-column",{attrs:{label:"操作类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.operatingType)+" ")]}}])}),a("el-table-column",{attrs:{label:"浏览器",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.browser)+" ")]}}])}),a("el-table-column",{attrs:{label:"备注",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.remark)+" ")]}}])}),a("el-table-column",{attrs:{label:"登录时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.joinTime)+" ")]}}])}),a("el-table-column",{attrs:{width:"120",label:"操作",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.showDetail(r)}}},[a("span",{staticClass:"btn-detail"},[a("v-icon",{attrs:{name:"info-circle"}}),a("span",{staticStyle:{"margin-left":"5px"}},[e._v("详情")])],1)])]}}])})],1),a("el-pagination",{attrs:{background:"","current-page":e.queryForm.pageNo,"page-size":e.queryForm.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],o=a("62ed"),l={name:"LoginLog",data(){return{listLoading:!0,elementLoadingText:"正在加载...",layout:"total, sizes, prev, pager, next, jumper",operateLogs:null,total:0,queryForm:{pageNo:1,pageSize:10,account:"",username:""}}},created(){this.fetchData()},methods:{async fetchData(){this.listLoading=!0;const{data:e,totalCount:t}=await Object(o["getLoginLogs"])(this.queryForm);this.operateLogs=e,this.total=t,setTimeout(()=>{this.listLoading=!1},300)},handleSizeChange(e){this.queryForm.pageSize=e,this.fetchData()},handleCurrentChange(e){this.queryForm.pageNo=e,this.fetchData()},tableRowClassName({rowIndex:e}){return e%2===0?"warning-row":"success-row"},handleSearch(){this.fetchData()},reset(){this.queryForm.account="",this.queryForm.username=""},showDetail(e){console.log("row",e)}}},s=l,u=(a("92f8"),a("44e5"),a("2877")),i=Object(u["a"])(s,r,n,!1,null,"f096eaee",null);t["default"]=i.exports},"44e5":function(e,t,a){"use strict";a("45f5")},"45f5":function(e,t,a){},"4d8b":function(e,t,a){},"62ed":function(e,t,a){"use strict";a.r(t),a.d(t,"getOperateLogs",(function(){return n})),a.d(t,"getLoginLogs",(function(){return o}));var r=a("b775");function n(e){return Object(r["default"])({url:"/logs/operateLogs",method:"get",params:e})}function o(e){return Object(r["default"])({baseURL:"http://10.67.216.189:9098",url:"/logs/loginLogs",method:"get",params:e})}},"92f8":function(e,t,a){"use strict";a("4d8b")}}]);